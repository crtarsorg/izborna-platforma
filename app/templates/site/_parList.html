<div class="loader"></div>
<style>
    .loader {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background: url("{{ url_for('static', filename = 'assets/page-loader.gif') }}")  50% 50% no-repeat rgb(249,249,249);
}
</style>

    <div class="row" style="background: #ffffff;">
        <h4 class="landingpage-h4">Парламентарни избори</h4>
        <div class="arrow_left_side">
            <img alt="elections" src="{{ url_for('static', filename = 'assets/arrow_elections-home.jpg') }}">
      </div>
        <div class="show_all_circle elections_show_all">
            <a href="#landing_menu" class="landing_circle_link" data-toggle="modal" data-target="#myModal">
              <div class="grey">
                <div class="show_all">
                  Покажи све
                </div>
              </div>
            </a>
        </div>
    </div>
 <!-- Modal -->

  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>

        </div>
        <div class="modal-body">
            <div class="tabs-type-elections-modal" id="tabs-modal">
                <ul>
                    <li id="presjednicki"><a href="#tabs-modal-1">Председнички</a></li>
                    <li id="parlamentarni"><a href="#tabs-modal-2">Парламентарни</a></li>
                </ul>
                  <div id="tabs-modal-1" class="year-list-tabs">
                    <ul>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2002, instanca='1', krug='prvi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2002   - Први круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2002, instanca='1', krug='drugi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2002  - Други круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2003, instanca='1', krug='prvi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2003  - Први круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2004, instanca='1', krug='prvi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2004-Први круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2004, instanca='1', krug='drugi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2004-Други круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2008, instanca='1', krug='prvi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2008   - Први круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2008, instanca='1', krug='prvi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2008   - Други круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2012, instanca='1', krug='drugi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2012  - Први круг</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2012, instanca='1', krug='drugi') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2012  - Други круг</a></li>

                    </ul>
                  </div>
                  <div id="tabs-modal-2"  class="year-list-tabs">
                    <ul>
                        <li>
                            <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2003, instanca='1', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2003</a>
                        </li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2007, instanca='1', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2007</a></li>
                         <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2008, instanca='1', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2008</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2012, instanca='1', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2012</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2014, instanca='4', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2014</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2016, instanca='4', krug='none') }}"><img alt="Menu_official" src="{{ url_for('static', filename = 'assets/menu_link_year.png') }}">2016</a></li>

        {#                <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2007, instanca='4', krug='none') }}">2007</a></li>
                        <li><a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2016, instanca='4', krug='none') }}">2016</a></li>#}
                        <!-- second data source -->


                    </ul>
                  </div>
          </div>
        </div>

      </div>

    </div>
  </div>

        <!-- beginning of the year 2014 -->
        <!-- first indicator -->
      <div class="row" style="background: #ffffff;">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row">
                     <div class="col-md-2">
                      {% include "site/_map_parl_2016.html" %}
                    </div>
                    <div class="col-md-10 year-data">
                            <div class="col-md-12 year-list">
                                <div class="row">
                                    <h3>
                                        <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2016, instanca='4', krug='none') }}">2016</a>
                                    </h3>
                                </div>
                            </div>
                            <div class="row indicator-row">

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list1_2016"></div>
                                    <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                        <p class="nr-votes nr-votes1_2016"></p>
                                    </div>
                                    <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                        <div class="progress custom-progress">
                                            <div class="progress-bar first-progress-2016" style="" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" >
                                              <span class="sr-only">Complete</span>
                                            </div>
                                        </div>
                                    </div>
                                 <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage1-2016">

                                    </div>
                            </div>
                         <div class="row indicator-row">
                                     <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list2_2016"></div>
                                <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                    <p class="nr-votes nr-votes2_2016"></p>
                                </div>
                                <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                    <div class="progress custom-progress">
                                        <div class="progress-bar  second-progress-2016" role="progressbar" style="" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                                          <span class="sr-only">Complete</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage2-2016">

                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="background: #ffffff;">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row" >
                <div class="col-md-2">
                      {% include "site/_map_parl_2014.html" %}
                </div>
            <div class="col-md-10 year-data">

                <div class="col-md-12 year-list">
                    <div class="row">
                        <h3>
                            <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2014, instanca='4', krug='none') }}">2014</a>
                        </h3>
                    </div>
                </div>
                <div class="row indicator-row">
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list1_2014"></div>
                        <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                            <p class="nr-votes nr-votes1_2014"></p>
                        </div>
                        <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                            <div class="progress custom-progress">
                                <div class="progress-bar first-progress-2014" style="" role="progressbar" aria-valuenow="50%" aria-valuemin="0" aria-valuemax="100" >
                                  <span class="sr-only">Complete</span>
                                </div>
                            </div>
                        </div>
                     <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage1-2014">
                     </div>
                </div>
                <div class="row indicator-row">
                         <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list2_2014"></div>
                    <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                        <p class="nr-votes nr-votes2_2014"></p>
                    </div>
                    <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                        <div class="progress custom-progress">
                            <div class="progress-bar  progressbar-red second-progress-2014" role="progressbar" style="" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                              <span class="sr-only">Complete</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage2-2014">

                    </div>
            </div>
            </div>
            </div>
            </div>
        </div>

        <!-- end of the first indicatior -->
        <!-- second indicator -->
        <!-- end of the second indicatior -->
        <!-- end of year 2014 -->

    <!-- other year -->
        <div class="row" style="background: #ffffff;">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row">
                     <div class="col-md-2">
                      {% include "site/_map_parl_2012.html" %}
                    </div>
                    <div class="col-md-10 year-data">
                            <div class="col-md-12 year-list">
                                <div class="row">
                                    <h3>
                                        <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'parlamentarni', year=2012, instanca='4', krug='none') }}">2012</a>
                                    </h3>
                                </div>
                            </div>
                            <div class="row indicator-row">

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list1_2012"></div>
                                    <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                        <p class="nr-votes nr-votes1_2012"></p>
                                    </div>
                                    <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                        <div class="progress custom-progress">
                                            <div class="progress-bar first-progress-2012" style="" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" >
                                              <span class="sr-only">Complete</span>
                                            </div>
                                        </div>
                                    </div>
                                 <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage1-2012">

                                    </div>
                            </div>
                         <div class="row indicator-row">
                                     <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list2_2012"></div>
                                <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                    <p class="nr-votes nr-votes2_2012"></p>
                                </div>
                                <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                    <div class="progress custom-progress">
                                        <div class="progress-bar  second-progress-2012" role="progressbar" style="" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                                          <span class="sr-only">Complete</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage2-2012">

                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!-- presidential -->
  <div class="row" style="background: #ffffff;">
        <h4 style="margin-top:0px;" class="landingpage-h4">Председнички избори</h4>
        <div class="arrow_left_side">
            <img style="top:725px;" alt="elections" src="{{ url_for('static', filename = 'assets/arrow_elections-home.jpg') }}">
      </div>
        <div class="show_all_circle elections_show_all">
            <a href="#landing_menu" class="landing_circle_link" data-toggle="modal" data-target="#myModal">
              <div class="grey">
                <div class="show_all">
                  Покажи све
                </div>
              </div>
            </a>
        </div>
    </div>
<!-- 2012 -->
      <div class="row" style="background: #ffffff;">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row">
                     <div class="col-md-2">
                      {% include "site/_site_map_pres_2012.html" %}
                    </div>
                    <div class="col-md-10 year-data">
                            <div class="col-md-12 year-list">
                                <div class="row">
                                    <h3>
                                        <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2012, instanca='4', krug='drugi') }}">2012 - други круг </a>
                                    </h3>
                                </div>
                            </div>
                            <div class="row indicator-row">

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list1_pres_2012"></div>
                                    <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                        <p class="nr-votes nr-votes1_pres_2012"></p>
                                    </div>
                                    <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                        <div class="progress custom-progress">
                                            <div class="progress-bar first-progress-pres-2012" style="" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" >
                                              <span class="sr-only">Complete</span>
                                            </div>
                                        </div>
                                    </div>
                                 <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage1-pres-2012">

                                    </div>
                            </div>
                         <div class="row indicator-row">
                                     <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list2_pres_2012"></div>
                                <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                    <p class="nr-votes nr-votes2_pres_2012"></p>
                                </div>
                                <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                    <div class="progress custom-progress">
                                        <div class="progress-bar  second-progress-pres-2012" role="progressbar" style="" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                                          <span class="sr-only">Complete</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage2-pres-2012">

                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!-- 2008 -->
 <div class="row" style="background: #ffffff;">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="row">
                     <div class="col-md-2">
                      {% include "site/_site_map_pres_2008.html" %}
                    </div>
                    <div class="col-md-10 year-data">
                            <div class="col-md-12 year-list">
                                <div class="row">
                                    <h3>
                                        <a href="{{ url_for('type.electionType', datasource='2', typeizbori = 'predsjednicki', year=2008, instanca='4', krug='drugi') }}">2008 - други круг </a>
                                    </h3>
                                </div>
                            </div>
                            <div class="row indicator-row">

                                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list1_pres_2008"></div>
                                    <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                        <p class="nr-votes nr-votes1_pres_2008"></p>
                                    </div>
                                    <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                        <div class="progress custom-progress">
                                            <div class="progress-bar first-progress-pres-2008" style="" role="progressbar" aria-valuenow="" aria-valuemin="0" aria-valuemax="100" >
                                              <span class="sr-only">Complete</span>
                                            </div>
                                        </div>
                                    </div>
                                 <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage1-pres-2008">

                                    </div>
                            </div>
                         <div class="row indicator-row">
                                     <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 name-list name-list2_pres_2008"></div>
                                <div class="col-lg-1 col-md-2 col-sm-4 col-xs-4">
                                    <p class="nr-votes nr-votes2_pres_2008"></p>
                                </div>
                                <div class="col-lg-6 col-md-5 col-sm-4 col-xs-4">
                                    <div class="progress custom-progress">
                                        <div class="progress-bar  second-progress-pres-2008" role="progressbar" style="" aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
                                          <span class="sr-only">Complete</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-2 col-md-2 col-sm-4 col-xs-4 percentage2-pres-2008">

                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<script>

    $(window).load(function() {

        $(".loader").css("display", "none");

        var years = [2012, 2014,2016];
        var arrayLength=years.length;

        var years_pres = [2012, 2008];
        var arrayLength_pres=years_pres.length;

            $.ajax({
            type: "GET",
            url: "{{ url_for("static",filename="data/landingpage.json") }}",
            async: false,
           dataType: 'json',

           success: function (response) {

               for (var i = 0; i < arrayLength; i++) {
                   $('.first-progress-' + years[i]).css('background-color', response['par_'+years[i]][0]['boja']);
                   $('.second-progress-' + years[i]).css('background-color', response['par_'+years[i]][1]['boja']);
               }
               for (var i = 0; i < arrayLength_pres; i++) {
                     $('.first-progress-pres-'+years_pres[i]).css('background-color', response['pres_'+years_pres[i]][0]['boja']);
                    $('.second-progress-pres-'+years_pres[i]).css('background-color', response['pres_'+years_pres[i]][1]['boja']);
               }


                 for (var i = 0; i < arrayLength; i++) {
                     $('.name-list1_' + years[i]).text(response['par_'+years[i]][0]['izbornaLista']);
                     $('.name-list1_' + years[i]).css('color',response['par_'+years[i]][0]['boja']);
                      $('.name-list2_' + years[i]).css('color',response['par_'+years[i]][1]['boja']);
                     $('.name-list2_' + years[i]).text(response['par_'+years[i]][1]['izbornaLista']);
                     var nr_votes_1 = response['par_'+years[i]][0]['glasova'].toLocaleString();
                     var nr_votes_2 = response['par_'+years[i]][1]['glasova'].toLocaleString();
                     $('.nr-votes1_' + years[i]).css('color',response['par_'+years[i]][0]['boja']);
                     $('.nr-votes2_' + years[i]).css('color',response['par_'+years[i]][1]['boja']);
                     $('.percentage1-'+years[i]).css('color',response['par_'+years[i]][0]['boja']);
                     $('.percentage2-'+years[i]).css('color',response['par_'+years[i]][1]['boja']);
                     $('.nr-votes1_' + years[i]).text(nr_votes_1);
                     $('.nr-votes2_' + years[i]).text(nr_votes_2);
                     var udeo1 = response['par_'+years[i]][0]['udeo'];
                     var udeo2 = response['par_'+years[i]][1]['udeo'];
                     $('.first-progress-' + years[i]).css('width', udeo1.toFixed(2) + '%');
                     $('.second-progress-' + years[i]).css('width', udeo2.toFixed(2) + '%');
                     $('.percentage1-'+years[i]).html(udeo1.toFixed(2) + '%');
                     $('.percentage2-'+years[i]).html(udeo2.toFixed(2) + '%');
                 }
                for (var i = 0; i < arrayLength_pres; i++) {

                         $('.name-list1_pres_'+ years_pres[i]).text(response['pres_'+years_pres[i]][0]['kandidat']);
                         $('.name-list2_pres_'+ years_pres[i]).text(response['pres_'+years_pres[i]][1]['kandidat']);
                         $('.name-list1_pres_' + years_pres[i]).css('color',response['pres_'+years_pres[i]][0]['boja']);
                         $('.name-list2_pres_' + years_pres[i]).css('color',response['pres_'+years_pres[i]][1]['boja'])

                         var nr_votes_1_pres = response['pres_'+years_pres[i]][0]['glasova'].toLocaleString();
                         var nr_votes_2_pres = response['pres_'+years_pres[i]][1]['glasova'].toLocaleString();
                         $('.nr-votes1_pres_' + years_pres[i]).css('color',response['pres_'+years_pres[i]][0]['boja']);
                         $('.nr-votes2_pres_' + years_pres[i]).css('color',response['pres_'+years_pres[i]][1]['boja']);
                         $('.percentage1-pres-'+years_pres[i]).css('color',response['pres_'+years_pres[i]][0]['boja']);
                         $('.percentage2-pres-'+years_pres[i]).css('color',response['pres_'+years_pres[i]][1]['boja']);
                         $('.nr-votes1_pres_' + years_pres[i]).text(nr_votes_1_pres);
                         $('.nr-votes2_pres_' + years_pres[i]).text(nr_votes_2_pres);
                         var udeo1_pres = response['pres_'+years_pres[i]][0]['udeo'];
                         var udeo2_pres = response['pres_'+years_pres[i]][1]['udeo'];
                         $('.first-progress-pres-' + years_pres[i]).css('width', udeo1_pres.toFixed(2) + '%');
                         $('.second-progress-pres-'+ years_pres[i]).css('width', udeo2_pres.toFixed(2) + '%');
                         $('.percentage1-pres-'+years_pres[i]).html(udeo1_pres.toFixed(2) + '%');
                         $('.percentage2-pres-'+years_pres[i]).html(udeo2_pres.toFixed(2) + '%');
                     }

           },
           error: function (error) {
               console.log(error);
           }
       });


        })
</script>

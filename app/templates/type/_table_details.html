

    <div class="select2-div">
    <select class="form-control" id="select2" multiple="multiple">
    </select>
    </div>
       <table id="details" class="display responsive no-wrap dataTable" cellspacing="0" width="100%">
       <thead>
           <tr>
               <th>Територија име</th>
           </tr>
       </thead>
       <tbody>
       </tbody>
    </table>

<script>
 {#   var b=$('#select2').val();
    console.log(b);
        var a;
$(document).ready(function() {
    #}{#$('.data-td').hide();
    a = $('#select2').val();
    $.each(a, function (index, value) {
        $('.' + value).show();
        $('.top_' + value).show();

    })#}{#
})
    $('#details').on('draw.dt', function () {
        a=$('#select2').val();
        $('.data-row-td').hide();
        $.each(a, function (index, value) {
            $('.selected_'+value).show();

        })
})

var last_element;
     $('#select2').on('click',function() {

       var data = $(this).select2('data');
        var array = [];
        $.each(data, function(index, val) {
            array[index]=val.id;
        });
        array.join(',');
        console.log(array);
         last_element = array[array.length-1];

         if(array.length<2){
            $('#'+last_element).addClass("disabled");
             }else{
                $('.select2-search-choice-close').removeClass("disabled");
             }
            $(".select2-choices li a" ).last().attr('id', last_element);
         var a=$('#select2').val();
         console.log(a);
             $.each(a, function (index, value) {
                 $('#'+value).click(function(){
                    $('.selected_'+value).css('display','none');
                 })
             })
     })#}
</script>

